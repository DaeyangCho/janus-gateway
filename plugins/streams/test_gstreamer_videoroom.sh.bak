#!/bin/sh
#gst-launch-1.0 -v \
gst-launch-1.0 \
  rtpbin name=rtpbin \
    udpsrc port=10050 caps="application/x-rtp, media=audio, encoding-name=OPUS, clock-rate=48000" ! rtpbin.recv_rtp_sink_0 \
    udpsrc port=10051 caps="application/x-rtp, media=video, encoding-name=VP8, clock-rate=90000" ! rtpbin.recv_rtp_sink_1 \
      rtpbin. ! rtpvp8depay ! vp8dec ! autovideosink \
      rtpbin. ! rtpopusdepay ! queue ! opusdec ! pulsesink

# Some helpful commands
# gst-launch-1.0 -v \
# rtpbin name=rtpbin latency=100 \
# udpsrc address=225.0.0.37 auto-multicast=true multicast-iface=lo port=60000 caps="application/x-rtp, media=audio, encoding-name=OPUS, clock-rate=48000" ! rtpbin.recv_rtp_sink_0 \
# udpsrc address=225.0.0.37 auto-multicast=true multicast-iface=lo port=60001 caps="application/x-rtcp" ! rtpbin.recv_rtcp_sink_0 \
# udpsrc address=225.0.0.37 auto-multicast=true multicast-iface=lo port=60002 caps="application/x-rtp, media=video, encoding-name=VP8, clock-rate=90000" ! rtpbin.recv_rtp_sink_1 \
# udpsrc address=225.0.0.37 auto-multicast=true multicast-iface=lo port=60003 caps="application/x-rtcp" ! rtpbin.recv_rtcp_sink_1 \
# rtpbin. ! rtpvp8depay ! vp8dec ! autovideosink \
# rtpbin. ! rtpopusdepay ! queue ! opusdec ! pulsesink
